{
  "id": 48,
  "title": "Social Image Server - Comprehensive Guide",
  "slug": "social-image-server-comprehensive-guide",
  "url": "https://knowledge.oculair.ca/books/unknown/page/social-image-server-comprehensive-guide",
  "updated_at": "2025-02-17T18:20:14.000000Z",
  "body_html": "<h1 id=\"bkmrk-social-image-server-\">Social Image Server - Comprehensive Guide</h1>\n<h2 id=\"bkmrk-overview\">Overview</h2>\n<p id=\"bkmrk-social-image-server--1\">Social Image Server is a self-hosted solution that automatically generates unique OG images for every page of your website. Our instance is running locally and can be used to create dynamic social media preview images.</p>\n<h2 id=\"bkmrk-endpoint-urls\">Endpoint URLs</h2>\n<h3 id=\"bkmrk-local-server-instanc\">Local Server Instance</h3>\n<pre id=\"bkmrk-http%3A%2F%2F192.168.50.90\"><code>http://192.168.50.90:8089\n</code></pre>\n<h2 id=\"bkmrk-endpoints\">Endpoints</h2>\n<h3 id=\"bkmrk-capture\">Capture</h3>\n<p id=\"bkmrk-the-%2Fcapture-endpoin\">The <code>/capture</code> endpoint generates a screen capture for any URL you pass in via the <code>url</code> query parameter.</p>\n<p id=\"bkmrk-example-usage%3A\">Example usage:</p>\n<pre id=\"bkmrk-%3Cmeta-property%3D%22og%3Ai\"><code class=\"language-html\">&lt;meta property=\"og:image\" content=\"http://192.168.50.90:8089/capture?url=your-site.com/page\" /&gt;\n</code></pre>\n<h3 id=\"bkmrk-template\">Template</h3>\n<p id=\"bkmrk-the-%2Ftemplate-endpoi\">The <code>/template</code> endpoint renders any static web build using variables passed in via query parameters.</p>\n<p id=\"bkmrk-example-usage%3A-1\">Example usage:</p>\n<pre id=\"bkmrk-%3Cmeta-property%3D%22og%3Ai-1\"><code class=\"language-html\">&lt;meta property=\"og:image\" content=\"http://192.168.50.90:8089/template/example?title=Your+Title&amp;subhead=Your+Subhead&amp;author=Author+Name&amp;date=Date&amp;img=image-url\" /&gt;\n</code></pre>\n<h2 id=\"bkmrk-url-parameters\">URL Parameters</h2>\n<ul id=\"bkmrk-url-%28required%29-descr\">\n<li><strong>url</strong> (Required)\n<ul>\n<li>Description: URL to generate image for and verify against</li>\n</ul>\n</li>\n<li><strong>width</strong>\n<ul>\n<li>Default: 1400</li>\n<li>Description: Width of browser viewport in pixels (max 2500)</li>\n</ul>\n</li>\n<li><strong>delay</strong>\n<ul>\n<li>Default: 0</li>\n<li>Description: Delay in milliseconds after page load before generating image</li>\n</ul>\n</li>\n<li><strong>dark</strong>\n<ul>\n<li>Default: false</li>\n<li>Description: Sets prefers-color-scheme to dark</li>\n</ul>\n</li>\n<li><strong>format</strong>\n<ul>\n<li>Description: Image format (defaults to server configuration)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"bkmrk-integration-with-n8n\">Integration with n8n and PhotoPrism</h2>\n<p id=\"bkmrk-to-efficiently-manag\">To efficiently manage and store images generated with the Social Image Server:</p>\n<ol id=\"bkmrk-request-generation%3A-\">\n<li>\n<p><strong>Request Generation:</strong> Use Social Image Server to create images and receive a URL for each generated image.</p>\n</li>\n<li>\n<p><strong>n8n Workflow:</strong> Create a workflow in n8n to automate the following steps:</p>\n<ul>\n<li>Fetch the image from the provided URL</li>\n<li>Upload the fetched image to PhotoPrism for storage</li>\n</ul>\n</li>\n<li>\n<p><strong>PhotoPrism Storage:</strong> Store images in PhotoPrism, allowing for easy access, organization, and retrieval.</p>\n</li>\n</ol>\n<h2 id=\"bkmrk-cache-management\">Cache Management</h2>\n<ul id=\"bkmrk-images-are-cached-by\">\n<li>Images are cached by default</li>\n<li>To refresh the cache, change any query parameter in the origin HTML</li>\n<li>For testing, use the <code>_regen_</code> parameter (not for production use)</li>\n<li>If incoming request parameters don't match the cache, the server will verify that params on the origin URL have changed and generate a new image if necessary</li>\n</ul>\n<h2 id=\"bkmrk-templates\">Templates</h2>\n<p id=\"bkmrk-templates-are-static\">Templates are static webpages that render URL query parameters in the content. You can:</p>\n<ul id=\"bkmrk-use-any-web-framewor\">\n<li>Use any web framework to create templates</li>\n<li>Create a folder containing your files in the <code>data/templates</code> directory</li>\n<li>Access templates at <code>/template/[template-name]</code></li>\n</ul>\n<h2 id=\"bkmrk-best-practices\">Best Practices</h2>\n<ol id=\"bkmrk-add-og%3Aimage-meta-ta\">\n<li>Add og:image meta tags in layout templates rather than individual pages</li>\n<li>Ensure query parameters are properly encoded in requests</li>\n<li>Use version parameters to automatically refresh cache on new site builds</li>\n<li>Consider using <a href=\"https://metatags.io/\">metatags.io</a> for previewing or generating boilerplate HTML</li>\n</ol>\n",
  "tags": [],
  "book": "Unknown",
  "chapter": ""
}